SELECT * FROM `banco`;
/*begin tran --> se utiliza para indicar una o varias transaciones*/
DECLARE @Error int
BEGIN TRANSACTION
UPDATE banco SET banco.saldo='600' WHERE id='2'

INSERT INTO banco VALUES('2','sam', '200')
SET @Error = @@ERROR
IF (@Error <> 0)
BEGIN 
ROLLBACK TRANSACTION
print "error en la transaccion"
END
ELSE
COMMIT

create table banco(
id int  primary key not null,
nombre varchar(20),
saldo int);

insert into banco values(2, 'alan', 800);
insert into banco values(3, 'sofia', 600);
insert into banco values(4, 'mikaela', 100);


select * from banco;

------

use db
go

set transaction isolation level commited
begin tran uno
update tlv
set id

WaitFor Delay '00:00:10'
rollback tran uno